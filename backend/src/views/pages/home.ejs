<%- include('../partials/header') %>

<div class="container py-4">

  <!-- HERO BANNER TRANG CH·ª¶ -->
  <section class="mb-4">
    <div
      class="row align-items-center g-3 rounded-4 p-4 p-md-5"
      style="
        background: linear-gradient(135deg, #e0f2fe, #dbeafe, #e9d5ff);
        box-shadow: 0 18px 35px rgba(15,23,42,0.12);
      "
    >
      <div class="col-md-7">
        <h1 class="h3 h-md-2 fw-bold mb-3" style="color: #0f172a;">
          Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi c·ª≠a h√†ng m√°y t√≠nh
        </h1>
        <p class="mb-3 text-muted">
          Laptop, PC, m√†n h√¨nh, linh ki·ªán ch√≠nh h√£ng ‚Äì kh√°m ph√° c√°c s·∫£n ph·∫©m m·ªõi nh·∫•t, b√°n ch·∫°y nh·∫•t
          v√† ph√π h·ª£p nh·∫•t v·ªõi nhu c·∫ßu h·ªçc t·∫≠p, l√†m vi·ªác, gi·∫£i tr√≠ c·ªßa b·∫°n.
        </p>
        <div class="d-flex flex-wrap gap-2 mb-3">
          <a href="/products?special=new" class="btn btn-primary">
            üî• Xem s·∫£n ph·∫©m m·ªõi
          </a>
          <a href="/products?special=best" class="btn btn-outline-primary">
            ‚≠ê S·∫£n ph·∫©m b√°n ch·∫°y
          </a>
        </div>
        <div class="d-flex flex-wrap gap-3 small text-muted">
          <span><i class="bi bi-truck"></i> Giao h√†ng nhanh to√†n qu·ªëc</span>
          <span><i class="bi bi-shield-check"></i> B·∫£o h√†nh ch√≠nh h√£ng</span>
          <span><i class="bi bi-credit-card"></i> H·ªó tr·ª£ tr·∫£ g√≥p</span>
        </div>
      </div>

      <div class="col-md-5 text-center">
        <img
          src="/images/banner.jpg"
          alt="Khuy·∫øn m√£i trang ch·ªß"
          class="img-fluid rounded-3 shadow-sm"
          style="max-height: 260px; object-fit: cover;"
        >
      </div>
    </div>
  </section>

  <!-- S·∫¢N PH·∫®M M·ªöI -->
  <% if (latest && latest.length > 0) { %>
    <section class="mb-4">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h2 class="h4 mb-0 text-primary fw-bold">‚ú® S·∫£n ph·∫©m m·ªõi</h2>
        <a href="/products?special=new" class="small text-decoration-none">
          Xem t·∫•t c·∫£ s·∫£n ph·∫©m m·ªõi ‚Üí
        </a>
      </div>
      <div class="row g-3">
        <% latest.forEach(p => { %>
          <div class="col-6 col-md-3">
            <div class="card h-100 border-0 shadow-sm product-card">
              <div class="position-relative">
                <a href="/product/<%= p._id %>">
                  <img
                    src="<%= p.images && p.images[0] ? p.images[0] : 'https://via.placeholder.com/300x200' %>"
                    class="card-img-top p-3"
                    alt="<%= p.name %>"
                    style="height: 200px; object-fit: contain;"
                  >
                </a>
                <span class="badge bg-success position-absolute top-0 start-0 m-2">
                  M·ªõi
                </span>
              </div>
              <div class="card-body d-flex flex-column">
                <h6 class="card-title mb-1 text-truncate" title="<%= p.name %>">
                  <%= p.name %>
                </h6>
                <p class="card-text text-danger fw-bold mb-2">
                  <%= p.price.toLocaleString('vi-VN') %> ‚Ç´
                </p>
                <a href="/product/<%= p._id %>" class="btn btn-primary btn-sm mt-auto">
                  Xem chi ti·∫øt
                </a>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    </section>
  <% } %>

  <!-- LAPTOP -->
  <% if (laptops && laptops.length > 0) { %>
    <section class="mb-4">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h2 class="h4 mb-0 text-primary fw-bold">üíª Laptop</h2>
        <a href="/products?category=laptop" class="small text-decoration-none">
          Xem t·∫•t c·∫£ laptop ‚Üí
        </a>
      </div>
      <div class="row g-3">
        <% laptops.forEach(p => { %>
          <div class="col-6 col-md-3">
            <div class="card h-100 border-0 shadow-sm product-card">
              <div class="position-relative">
                <a href="/product/<%= p._id %>">
                  <img
                    src="<%= p.images && p.images[0] ? p.images[0] : 'https://via.placeholder.com/300x200' %>"
                    class="card-img-top p-3"
                    alt="<%= p.name %>"
                    style="height: 200px; object-fit: contain;"
                  >
                </a>
                <% if (p.isBestSeller) { %>
                  <span class="badge bg-warning text-dark position-absolute top-0 end-0 m-2">
                    B√°n ch·∫°y
                  </span>
                <% } %>
              </div>
              <div class="card-body d-flex flex-column">
                <h6 class="card-title mb-1 text-truncate" title="<%= p.name %>">
                  <%= p.name %>
                </h6>
                <p class="card-text text-danger fw-bold mb-2">
                  <%= p.price.toLocaleString('vi-VN') %> ‚Ç´
                </p>
                <a href="/product/<%= p._id %>" class="btn btn-primary btn-sm mt-auto">
                  Xem chi ti·∫øt
                </a>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    </section>
  <% } %>

  <!-- M√ÄN H√åNH -->
  <% if (monitors && monitors.length > 0) { %>
    <section class="mb-4">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h2 class="h4 mb-0 text-primary fw-bold">üñ•Ô∏è M√†n h√¨nh</h2>
        <a href="/products?category=monitor" class="small text-decoration-none">
          Xem t·∫•t c·∫£ m√†n h√¨nh ‚Üí
        </a>
      </div>
      <div class="row g-3">
        <% monitors.forEach(p => { %>
          <div class="col-6 col-md-3">
            <div class="card h-100 border-0 shadow-sm product-card">
              <div class="position-relative">
                <a href="/product/<%= p._id %>">
                  <img
                    src="<%= p.images && p.images[0] ? p.images[0] : 'https://via.placeholder.com/300x200' %>"
                    class="card-img-top p-3"
                    alt="<%= p.name %>"
                    style="height: 200px; object-fit: contain;"
                  >
                </a>
              </div>
              <div class="card-body d-flex flex-column">
                <h6 class="card-title mb-1 text-truncate" title="<%= p.name %>">
                  <%= p.name %>
                </h6>
                <p class="card-text text-danger fw-bold mb-2">
                  <%= p.price.toLocaleString('vi-VN') %> ‚Ç´
                </p>
                <a href="/product/<%= p._id %>" class="btn btn-primary btn-sm mt-auto">
                  Xem chi ti·∫øt
                </a>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    </section>
  <% } %>

  <!-- ·ªî C·ª®NG (HDD) - n·∫øu c√≥ -->
  <% if (typeof hdds !== 'undefined' && hdds && hdds.length > 0) { %>
    <section class="mb-4">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h2 class="h4 mb-0 text-primary fw-bold">üíæ ·ªî c·ª©ng & L∆∞u tr·ªØ</h2>
        <a href="/products?category=hdd" class="small text-decoration-none">
          Xem t·∫•t c·∫£ ·ªï c·ª©ng ‚Üí
        </a>
      </div>
      <div class="row g-3">
        <% hdds.forEach(p => { %>
          <div class="col-6 col-md-3">
            <div class="card h-100 border-0 shadow-sm product-card">
              <div class="position-relative">
                <a href="/product/<%= p._id %>">
                  <img
                    src="<%= p.images && p.images[0] ? p.images[0] : 'https://via.placeholder.com/300x200' %>"
                    class="card-img-top p-3"
                    alt="<%= p.name %>"
                    style="height: 200px; object-fit: contain;"
                  >
                </a>
              </div>
              <div class="card-body d-flex flex-column">
                <h6 class="card-title mb-1 text-truncate" title="<%= p.name %>">
                  <%= p.name %>
                </h6>
                <p class="card-text text-danger fw-bold mb-2">
                  <%= p.price.toLocaleString('vi-VN') %> ‚Ç´
                </p>
                <a href="/product/<%= p._id %>" class="btn btn-primary btn-sm mt-auto">
                  Xem chi ti·∫øt
                </a>
              </div>
            </div>
          </div>
        <% }) %>
      </div>
    </section>
  <% } %>

  <!-- BANNER CU·ªêI TRANG ‚Äì CTA -->
  <section class="mt-5 mb-4">
    <div
      class="row g-3 align-items-center rounded-4 p-4 p-md-5"
      style="
        background: linear-gradient(135deg, #eff6ff, #e0f2fe, #ede9fe);
        box-shadow: 0 16px 28px rgba(15,23,42,0.12);
      "
    >
      <div class="col-md-8">
        <h2 class="h4 h-md-3 fw-bold mb-2" style="color:#0f172a;">
          C·∫ßn t∆∞ v·∫•n c·∫•u h√¨nh ho·∫∑c ch·ªçn s·∫£n ph·∫©m ph√π h·ª£p?
        </h2>
        <p class="mb-3 text-muted">
          ƒê·ªôi ng≈© k·ªπ thu·∫≠t lu√¥n s·∫µn s√†ng h·ªó tr·ª£ b·∫°n build PC, ch·ªçn laptop, m√†n h√¨nh, linh ki·ªán
          ph√π h·ª£p v·ªõi ng√¢n s√°ch v√† nhu c·∫ßu th·ª±c t·∫ø.
        </p>

        <div class="d-flex flex-wrap gap-2 mb-3">
          <a href="/products?special=best" class="btn btn-primary">
            üî• Xem khuy·∫øn m√£i & s·∫£n ph·∫©m hot
          </a>
          <a href="/contact" class="btn btn-outline-primary">
            üí¨ Li√™n h·ªá t∆∞ v·∫•n mi·ªÖn ph√≠
          </a>
        </div>

        <div class="d-flex flex-wrap gap-3 small text-muted">
          <span><i class="bi bi-telephone"></i> Hotline: <strong>1900 1234</strong> (8:00 ‚Äì 21:00)</span>
          <span><i class="bi bi-geo-alt"></i> Showroom: Qu·∫≠n 1, TP. H·ªì Ch√≠ Minh</span>
          <span><i class="bi bi-envelope"></i> Email: support@ecommerce.com</span>
        </div>
      </div>

      <div class="col-md-4 text-center">
        <div
          class="rounded-4 p-3 p-md-4 h-100 d-flex flex-column justify-content-center"
          style="background: linear-gradient(135deg, rgba(59,130,246,0.08), rgba(79,70,229,0.15));"
        >
          <p class="small text-uppercase text-muted mb-1">∆Øu ƒë√£i th√†nh vi√™n</p>
          <h3 class="h5 fw-bold mb-2" style="color:#1d4ed8;">
            Gi·∫£m th√™m 5% cho ƒë∆°n h√†ng ƒë·∫ßu ti√™n
          </h3>
          <p class="small text-muted mb-3">
            ƒêƒÉng nh·∫≠p ho·∫∑c t·∫°o t√†i kho·∫£n ƒë·ªÉ t√≠ch ƒëi·ªÉm, nh·∫≠n voucher v√† theo d√µi ƒë∆°n h√†ng d·ªÖ d√†ng.
          </p>
          <a href="/login" class="btn btn-sm btn-primary w-100 mb-2">
            ƒêƒÉng nh·∫≠p / ƒêƒÉng k√Ω ngay
          </a>
          <p class="text-muted small mb-0">
            <i class="bi bi-shield-check"></i> B·∫£o m·∫≠t t√†i kho·∫£n & th√¥ng tin thanh to√°n.
          </p>
        </div>
      </div>
    </div>
  </section>

</div>

<%- include('../partials/footer') %>
